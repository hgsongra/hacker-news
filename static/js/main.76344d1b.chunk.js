(this["webpackJsonphacker-news"]=this["webpackJsonphacker-news"]||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/progress.0c44dacf.gif"},26:function(e,t,a){e.exports=a(54)},31:function(e,t,a){},51:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(21),o=a.n(r),l=(a(31),a(32),function(){return c.a.createElement("header",{className:"App-header"},c.a.createElement("div",{className:"p-3 mb-2 bg-warning text-dark"},c.a.createElement("h1",null,"Hacker News")))}),s=a(9),i=a(2),m=a(7),u=a.n(m),d=a(22),p=a(8),f=a.n(p),h=a(23),v=a.n(h),b=function(){var e=Object(d.a)(u.a.mark((function e(t,a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(f.a.api.base_url+f.a.api.endpoint,{params:{tags:t,page:a}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),E=a(25),g=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;return e&&e.length>t?e.substring(0,t-3)+"...":e},j=a(6),N=function(e){var t=e.title,a=e.author,n=e.url,r=e.upvotes,o=e.comments,l=e.created_at,s=e.upVoteMe,i=e.isUpvoted,m=e.hideMe;return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-1 col-sm-3"},o),c.a.createElement("div",{className:"col-md-1 col-sm-3"},r," ",c.a.createElement("a",{onClick:s},i?c.a.createElement(j.a,null):c.a.createElement(j.b,null))),c.a.createElement("div",{className:"col-md-4 col-sm-6"},g(t,45)),c.a.createElement("div",{className:"col-md-3 col-sm-6"},c.a.createElement("a",{href:n,target:"_blank"},g(n,35))),c.a.createElement("div",{className:"col-md-1 col-sm-2"},a),c.a.createElement("div",{className:"col-md-2 col-sm-4",align:"right"},Object(E.a)(l)," ",c.a.createElement("br",null),"[ ",c.a.createElement("a",{onClick:m},c.a.createElement(j.c,null))," ]"))},w=a(24),O=a.n(w),k=function(){return c.a.createElement("div",{align:"center"},c.a.createElement("img",{src:O.a,width:"10%;"}))},I=(a(51),a(4)),_=a.n(I),x=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(1),l=Object(i.a)(o,2),m=l[0],u=l[1],d=Object(n.useState)(!0),p=Object(i.a)(d,2),f=p[0],h=p[1],v=Object(n.useState)("front_page"),E=Object(i.a)(v,2),g=E[0],j=E[1],w=Object(n.useState)(!1),O=Object(i.a)(w,2),I=O[0],x=O[1],y=_.a.get("localUpvotes")||{},D=_.a.get("hiddenPosts")||{};Object(n.useEffect)((function(){console.log("useEffect"),x(!0),b(g,m).then((function(e){20*m>e.nbHits&&h(!1),r(a.concat(e.hits)),x(!1)})).catch((function(){console.log("API call failed"),x(!1)}))}),[m,g]);return c.a.createElement("main",{role:"main",className:"container"},c.a.createElement("div",{className:"tag_selection",align:"right"},c.a.createElement("select",{className:"form-control",onChange:function(e){j(e.target.value),u(1),r([]),h(!0)}},c.a.createElement("option",{value:"front_page"},"Front Page"),c.a.createElement("option",{value:"story"},"Story"))),c.a.createElement("div",{className:"posts"},a&&a.map((function(e){return D[e.objectID]||e.hide?"":c.a.createElement(N,{key:e.objectID,title:e.title,author:e.author,url:e.url,upvotes:e.points,comments:e.num_comments,created_at:e.created_at,upVoteMe:function(){return function(e){var t=0;y[e]?(delete y[e],t=-1):(y[e]=!0,t=1),_.a.set("localUpvotes",y);var n=Object(s.a)(a),c=n.findIndex((function(t){return t.objectID==e}));n[c].points+=t,r(n)}(e.objectID)},isUpvoted:1==y[e.objectID],hideMe:function(){return function(e){D[e]=!0,_.a.set("hiddenPosts",D);var t=Object(s.a)(a),n=t.findIndex((function(t){return t.objectID==e}));t[n].hide=!0,r(t)}(e.objectID)}})}))),c.a.createElement("div",{className:"load_more"},I?c.a.createElement(k,null):"",c.a.createElement("p",{align:"center"},f?c.a.createElement("button",{className:"btn btn-primary",onClick:function(){u(m+1)}},"Load more Posts"):"No more posts available")))};var y=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(l,null),c.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t){e.exports={api:{base_url:"https://hn.algolia.com/api/v1/",endpoint:"search"}}}},[[26,1,2]]]);